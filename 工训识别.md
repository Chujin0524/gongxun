<style>
.center 
{
  width: auto;
  display: table;
  margin-left: auto;
  margin-right: auto;
}
</style>


# 工训视觉部分——送药小车
* 数字识别
* 二维码扫描
* 语音识别
---
## 使用配置
### 软件使用
- **开发语言**： [MaixPy](https://wiki.sipeed.com/maixpy/) 
- **软件IDE**： [MaixVision](https://wiki.sipeed.com/maixvision) 
- **在线 AI 模型训练平台**：[MaixHub](https://maixhub.com)  

### 硬件使用
- **电源**：  `5v 500mA` 的稳定供电。如果供电不足可能会导致无法开机，或者运行过程中死机等情况。特别是有些电脑的`USB`口供电可能不稳定。
- **Type-C一转二小板**: 集成好的转接头防止接线松动的情况
  <p align = "center"> <img src="https://gitee.com/dai1078845462/picbed/raw/master/image/9e00e16008eba60b160518552dfe92d.jpg"  width="100" / ></p>
> 若是没有转接头，可以直连板子引脚进行通信调试
> 具体引脚图如下，接线时可参考。
![](http://wiki.sipeed.com/hardware/zh/lichee/assets/RV_Nano/intro/RV_Nano_3.jpg)
- **UART**:使用`Type-C一转二小板`默认使用`UART0`进行通信，注意单片机上引脚对应连接即可。

<div class="center">

| 串口    |  RX   |   TX |
| :-----:  | :---: | ---: |
| UART(0) |  PA17   |   PA16 |

</div>

---
## 软件代码
![](https://gitee.com/dai1078845462/picbed/raw/master/image/20241023105050.png)
```
scan
├─ 📁assets
│  ├─ 📄exit.jpg
│  ├─ 📄exit_touch.jpg
│  ├─ 📄GenShinGothic-Monospace-Medium-2.ttf
│  ├─ 📄scan.json
│  └─ 📄setting.png
├─ 📄main.py
├─ 📄model_120311.cvimodel
├─ 📄model_120311.mud
├─ 📄model_127448.cvimodel
├─ 📄model_127448.mud
├─ 📄model_156171.cvimodel
├─ 📄model_156171.mud
├─ 📄nn_test.py
└─ 📄origin_scan.py
```
* `asset`内为一些`app`界面设置文件
* 内置了多个训练好的模型，修改`detector = nn.YOLOv5(model="model_127448.mud")`内的路径即可使用。
* 如果想使用另外自己训练的模型，将`mud`和`cvimodel`放到文件内即可使用。模型训练对象的`label`可能不同，需修改串口部分的通信规则，否则会报错。
* `nn_test.py`可测试模型是否运作和识别效果
* `origin_scan.py`为纯数字识别，串口输出的程序

---
## 使用效果
### 纯数字识别
![](https://gitee.com/dai1078845462/picbed/raw/master/image/20241023104500.png)
### APP打包识别
![](https://gitee.com/dai1078845462/picbed/raw/master/image/20241023104636.png)
![](https://gitee.com/dai1078845462/picbed/raw/master/image/20241023104801.png)
具体界面如下：
![](https://gitee.com/dai1078845462/picbed/raw/master/image/20241023110002.png)
* 下列黑框显示想要识别的模式，默认为二维码识别，点击`number`即可进行数字识别
* 识别到二维码或者数字后通过串口发送对应信息至单片机
* 点击左上角`<`可退出程序

